var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(r)}function s(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function u(t,e,r,o){return t[1]&&o?n(r.ctx.slice(),t[1](o(e))):r.ctx}function a(t,e){const n={};e=new Set(e);for(const r in t)e.has(r)||"$"===r[0]||(n[r]=t[r]);return n}const l="undefined"!=typeof window;let f=l?()=>window.performance.now():()=>Date.now(),d=l?t=>requestAnimationFrame(t):t;const p=new Set;function h(t){p.forEach((e=>{e.c(t)||(p.delete(e),e.f())})),0!==p.size&&d(h)}function g(t,e){t.appendChild(e)}function m(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function y(t){const e=$("style");return function(t,e){g(t.head||t,e)}(m(t),e),e}function x(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function w(t){return document.createTextNode(t)}function b(){return w(" ")}function k(){return w("")}function _(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function j(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const r in e)null==e[r]?t.removeAttribute(r):"style"===r?t.style.cssText=e[r]:"__value"===r?t.value=t[r]=e[r]:n[r]&&n[r].set?t[r]=e[r]:j(t,r,e[r])}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function O(t,e){t.value=null==e?"":e}function z(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}const E=new Set;let A,D=0;function M(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),D-=o,D||d((()=>{D||(E.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),E.clear())})))}function P(t){A=t}function N(){if(!A)throw new Error("Function called outside component initialization");return A}const R=[],T=[],q=[],I=[],B=Promise.resolve();let G=!1;function L(t){q.push(t)}let V=!1;const X=new Set;function F(){if(!V){V=!0;do{for(let t=0;t<R.length;t+=1){const e=R[t];P(e),U(e.$$)}for(P(null),R.length=0;T.length;)T.pop()();for(let t=0;t<q.length;t+=1){const e=q[t];X.has(e)||(X.add(e),e())}q.length=0}while(R.length);for(;I.length;)I.pop()();G=!1,V=!1,X.clear()}}function U(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}let W;function H(t,e,n){t.dispatchEvent(function(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}(`${e?"intro":"outro"}${n}`))}const J=new Set;function K(t,e){t&&t.i&&(J.delete(t),t.i(e))}function Q(t,e,n,r){if(t&&t.o){if(J.has(t))return;J.add(t),undefined.c.push((()=>{J.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const Y={duration:0};function Z(n,r,o){let i,c,u=r(n,o),a=!1,l=0;function g(){i&&M(n,i)}function x(){const{delay:r=0,duration:o=300,easing:s=e,tick:x=t,css:v}=u||Y;v&&(i=function(t,e,n,r,o,i,s,c=0){const u=16.666/r;let a="{\n";for(let t=0;t<=1;t+=u){const r=e+(n-e)*i(t);a+=100*t+`%{${s(r,1-r)}}\n`}const l=a+`100% {${s(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(l)}_${c}`,d=m(t);E.add(d);const p=d.__svelte_stylesheet||(d.__svelte_stylesheet=y(t).sheet),h=d.__svelte_rules||(d.__svelte_rules={});h[f]||(h[f]=!0,p.insertRule(`@keyframes ${f} ${l}`,p.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${f} ${r}ms linear ${o}ms 1 both`,D+=1,f}(n,0,1,o,r,s,v,l++)),x(0,1);const $=f()+r,w=$+o;c&&c.abort(),a=!0,L((()=>H(n,!0,"start"))),c=function(t){let e;return 0===p.size&&d(h),{promise:new Promise((n=>{p.add(e={c:t,f:n})})),abort(){p.delete(e)}}}((t=>{if(a){if(t>=w)return x(1,0),H(n,!0,"end"),g(),a=!1;if(t>=$){const e=s((t-$)/o);x(e,1-e)}}return a}))}let v=!1;return{start(){v||(v=!0,M(n),s(u)?(u=u(),(W||(W=Promise.resolve(),W.then((()=>{W=null}))),W).then(x)):x())},invalidate(){v=!1},end(){a&&(g(),a=!1)}}}const tt="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function et(t,e){t.d(1),e.delete(t.key)}function nt(t){t&&t.c()}function rt(t,e,n,o){const{fragment:c,on_mount:u,on_destroy:a,after_update:l}=t.$$;c&&c.m(e,n),o||L((()=>{const e=u.map(r).filter(s);a?a.push(...e):i(e),t.$$.on_mount=[]})),l.forEach(L)}function ot(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function it(t,e){-1===t.$$.dirty[0]&&(R.push(t),G||(G=!0,B.then(F)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function st(e,n,r,s,c,u,a,l=[-1]){const f=A;P(e);const d=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:o(),dirty:l,skip_bound:!1,root:n.target||f.$$.root};a&&a(d.root);let p=!1;if(d.ctx=r?r(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),p&&it(e,t)),n})):[],d.update(),p=!0,i(d.before_update),d.fragment=!!s&&s(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(v)}else d.fragment&&d.fragment.c();n.intro&&K(e.$$.fragment),rt(e,n.target,n.anchor,n.customElement),F()}P(f)}class ct{$destroy(){ot(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var ut="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},at={exports:{}};(function(t,e,n){function r(t){var e,n=this,r=(e=4022871197,function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function o(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function i(t,e){var n=new r(t),i=e&&e.state,s=n.next;return s.int32=function(){return 4294967296*n.next()|0},s.double=function(){return s()+11102230246251565e-32*(2097152*s()|0)},s.quick=s,i&&("object"==typeof i&&o(i,n),s.state=function(){return o(n,{})}),s}e&&e.exports?e.exports=i:n&&n.amd?n((function(){return i})):this.alea=i})(0,at,!1);var lt={exports:{}};!function(t){!function(t,e,n){function r(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function o(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function i(t,e){var n=new r(t),i=e&&e.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=n.next,s.quick=s,i&&("object"==typeof i&&o(i,n),s.state=function(){return o(n,{})}),s}e&&e.exports?e.exports=i:n&&n.amd?n((function(){return i})):this.xor128=i}(0,t,!1)}(lt);var ft={exports:{}};!function(t){!function(t,e,n){function r(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function o(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function i(t,e){var n=new r(t),i=e&&e.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=n.next,s.quick=s,i&&("object"==typeof i&&o(i,n),s.state=function(){return o(n,{})}),s}e&&e.exports?e.exports=i:n&&n.amd?n((function(){return i})):this.xorwow=i}(0,t,!1)}(ft);var dt={exports:{}};!function(t){!function(t,e,n){function r(t){var e=this;e.next=function(){var t,n,r=e.x,o=e.i;return t=r[o],n=(t^=t>>>7)^t<<24,n^=(t=r[o+1&7])^t>>>10,n^=(t=r[o+3&7])^t>>>3,n^=(t=r[o+4&7])^t<<7,t=r[o+7&7],n^=(t^=t<<13)^t<<9,r[o]=n,e.i=o+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n&&(r[7]=-1),t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function o(t,e){return e.x=t.x.slice(),e.i=t.i,e}function i(t,e){null==t&&(t=+new Date);var n=new r(t),i=e&&e.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=n.next,s.quick=s,i&&(i.x&&o(i,n),s.state=function(){return o(n,{})}),s}e&&e.exports?e.exports=i:n&&n.amd?n((function(){return i})):this.xorshift7=i}(0,t,!1)}(dt);var pt={exports:{}};!function(t){!function(t,e,n){function r(t){var e=this;e.next=function(){var t,n,r=e.w,o=e.X,i=e.i;return e.w=r=r+1640531527|0,n=o[i+34&127],t=o[i=i+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=o[i]=n^t,e.i=i,n+(r^r>>>16)|0},function(t,e){var n,r,o,i,s,c=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),o=0,i=-32;i<u;++i)e&&(r^=e.charCodeAt((i+32)%e.length)),0===i&&(s=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(s=s+1640531527|0,o=0==(n=c[127&i]^=r+s)?o+1:0);for(o>=128&&(c[127&(e&&e.length||0)]=-1),o=127,i=512;i>0;--i)r=c[o+34&127],n=c[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,c[o]=r^n;t.w=s,t.X=c,t.i=o}(e,t)}function o(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function i(t,e){null==t&&(t=+new Date);var n=new r(t),i=e&&e.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=n.next,s.quick=s,i&&(i.X&&o(i,n),s.state=function(){return o(n,{})}),s}e&&e.exports?e.exports=i:n&&n.amd?n((function(){return i})):this.xor4096=i}(0,t,!1)}(pt);var ht={exports:{}};!function(t){!function(t,e,n){function r(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,o=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^o,e.a=o-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function o(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function i(t,e){var n=new r(t),i=e&&e.state,s=function(){return(n.next()>>>0)/4294967296};return s.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},s.int32=n.next,s.quick=s,i&&("object"==typeof i&&o(i,n),s.state=function(){return o(n,{})}),s}e&&e.exports?e.exports=i:n&&n.amd?n((function(){return i})):this.tychei=i}(0,t,!1)}(ht);var gt={exports:{}};!function(t){!function(e,n,r){var o,i=256,s=r.pow(i,6),c=r.pow(2,52),u=2*c,a=255;function l(t,a,l){var m=[],y=h(p((a=1==a?{entropy:!0}:a||{}).entropy?[t,g(n)]:null==t?function(){try{var t;return o&&(t=o.randomBytes)?t=t(i):(t=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(t)),g(t)}catch(t){var r=e.navigator,s=r&&r.plugins;return[+new Date,e,s,e.screen,g(n)]}}():t,3),m),x=new f(m),v=function(){for(var t=x.g(6),e=s,n=0;t<c;)t=(t+n)*i,e*=i,n=x.g(1);for(;t>=u;)t/=2,e/=2,n>>>=1;return(t+n)/e};return v.int32=function(){return 0|x.g(4)},v.quick=function(){return x.g(4)/4294967296},v.double=v,h(g(x.S),n),(a.pass||l||function(t,e,n,o){return o&&(o.S&&d(o,x),t.state=function(){return d(x,{})}),n?(r.random=t,e):t})(v,y,"global"in a?a.global:this==r,a.state)}function f(t){var e,n=t.length,r=this,o=0,s=r.i=r.j=0,c=r.S=[];for(n||(t=[n++]);o<i;)c[o]=o++;for(o=0;o<i;o++)c[o]=c[s=a&s+t[o%n]+(e=c[o])],c[s]=e;(r.g=function(t){for(var e,n=0,o=r.i,s=r.j,c=r.S;t--;)e=c[o=a&o+1],n=n*i+c[a&(c[o]=c[s=a&s+e])+(c[s]=e)];return r.i=o,r.j=s,n})(i)}function d(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function p(t,e){var n,r=[],o=typeof t;if(e&&"object"==o)for(n in t)try{r.push(p(t[n],e-1))}catch(t){}return r.length?r:"string"==o?t:t+"\0"}function h(t,e){for(var n,r=t+"",o=0;o<r.length;)e[a&o]=a&(n^=19*e[a&o])+r.charCodeAt(o++);return g(e)}function g(t){return String.fromCharCode.apply(0,t)}if(h(r.random(),n),t.exports){t.exports=l;try{o=require("crypto")}catch(t){}}else r.seedrandom=l}("undefined"!=typeof self?self:ut,[],Math)}(gt);var mt=at.exports,yt=lt.exports,xt=ft.exports,vt=dt.exports,$t=pt.exports,wt=ht.exports,bt=gt.exports;bt.alea=mt,bt.xor128=yt,bt.xorwow=xt,bt.xorshift7=vt,bt.xor4096=$t,bt.tychei=wt;var kt,_t=bt,jt=new Uint8Array(16);function St(){if(!kt&&!(kt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kt(jt)}var Ct=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ot(t){return"string"==typeof t&&Ct.test(t)}for(var zt=[],Et=0;Et<256;++Et)zt.push((Et+256).toString(16).substr(1));function At(t,e,n){var r=(t=t||{}).random||(t.rng||St)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(zt[t[e+0]]+zt[t[e+1]]+zt[t[e+2]]+zt[t[e+3]]+"-"+zt[t[e+4]]+zt[t[e+5]]+"-"+zt[t[e+6]]+zt[t[e+7]]+"-"+zt[t[e+8]]+zt[t[e+9]]+"-"+zt[t[e+10]]+zt[t[e+11]]+zt[t[e+12]]+zt[t[e+13]]+zt[t[e+14]]+zt[t[e+15]]).toLowerCase();if(!Ot(n))throw TypeError("Stringified UUID is invalid");return n}(r)}function Dt(){return{type:"snake",bodyPart:"head",id:At()}}function Mt({index:t}){return{type:"snake",bodyPart:"trunk",index:t,id:At()}}function Pt(){return{type:"snake",bodyPart:"tail",id:At()}}function Nt(){return{type:"food",id:At()}}function Rt(){return{type:"empty",id:At()}}const Tt=32,qt=17;const It=[["left","right"].sort().join(","),["up","down"].sort().join(",")];const Bt=(Gt=32,new Array(17).fill(null).map((()=>new Array(Gt).fill(null))).map(((t,e)=>t.map(((t,n)=>({x:e,y:n}))))).flat());var Gt;function Lt(t,e){const n=Bt.filter((({x:t,y:n})=>{var r;return"snake"!==(null===(r=e[t][n])||void 0===r?void 0:r.type)}));return n[function(t,{max:e,min:n=0}){const r=_t(t);return()=>n+Math.floor(r()*e)}(t,{max:n.length})()]}function Vt(t,e,n){const r=t.slice();return r[1]=e[n],r}function Xt(t,e,n){const r=t.slice();return r[4]=e[n],r}function Ft(t,e){let n,r;return{key:t,first:null,c(){n=$("div"),j(n,"class",r="w-vh-large h-vh-large "+Ht(e[4])+" svelte-j14zrj"),this.first=n},m(t,e){x(t,n,e)},p(t,o){e=t,1&o&&r!==(r="w-vh-large h-vh-large "+Ht(e[4])+" svelte-j14zrj")&&j(n,"class",r)},d(t){t&&v(n)}}}function Ut(t){let e,n=[],r=new Map,o=t[1];const i=t=>t[4].id;for(let e=0;e<o.length;e+=1){let s=Xt(t,o,e),c=i(s);r.set(c,n[e]=Ft(c,s))}return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=k()},m(t,r){for(let e=0;e<n.length;e+=1)n[e].m(t,r);x(t,e,r)},p(t,s){1&s&&(o=t[1],n=function(t,e,n,r,o,i,s,c,u,a,l,f){let d=t.length,p=i.length,h=d;const g={};for(;h--;)g[t[h].key]=h;const m=[],y=new Map,x=new Map;for(h=p;h--;){const t=f(o,i,h),c=n(t);let u=s.get(c);u?r&&u.p(t,e):(u=a(c,t),u.c()),y.set(c,m[h]=u),c in g&&x.set(c,Math.abs(h-g[c]))}const v=new Set,$=new Set;function w(t){K(t,1),t.m(c,l),s.set(t.key,t),l=t.first,p--}for(;d&&p;){const e=m[p-1],n=t[d-1],r=e.key,o=n.key;e===n?(l=e.first,d--,p--):y.has(o)?!s.has(r)||v.has(r)?w(e):$.has(o)?d--:x.get(r)>x.get(o)?($.add(r),w(e)):(v.add(o),d--):(u(n,s),d--)}for(;d--;){const e=t[d];y.has(e.key)||u(e,s)}for(;p;)w(m[p-1]);return m}(n,s,i,1,t,o,r,e.parentNode,et,Ft,e,Xt))},d(t){for(let e=0;e<n.length;e+=1)n[e].d(t);t&&v(e)}}}function Wt(e){let n,r=e[0].field,o=[];for(let t=0;t<r.length;t+=1)o[t]=Ut(Vt(e,r,t));return{c(){n=$("div");for(let t=0;t<o.length;t+=1)o[t].c();j(n,"class","snakeBox grid place-items-center gap-vh-small p-vh-small border-4 border-solid border-black dark:border-gray-200 svelte-j14zrj"),z(n,"--width",32),z(n,"--height",17)},m(t,e){x(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(1&e){let i;for(r=t[0].field,i=0;i<r.length;i+=1){const s=Vt(t,r,i);o[i]?o[i].p(s,e):(o[i]=Ut(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:t,o:t,d(t){t&&v(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(o,t)}}}function Ht(t){return"snake"===(null==t?void 0:t.type)?"bg-black dark:bg-green-300 "+("head"===(e=t.bodyPart)?"w-vh-large h-vh-large":"trunk"===e?"w-vh-medium h-vh-medium":"w-vh-xs h-vh-xs"):"food"===(null==t?void 0:t.type)?"rounded-full bg-svelte-red w-vh-small h-vh-small":"";var e}function Jt(t,e,n){let{gameState:r}=e;return t.$$set=t=>{"gameState"in t&&n(0,r=t.gameState)},[r]}class Kt extends ct{constructor(t){super(),st(this,t,Jt,Wt,c,{gameState:0})}}const Qt=[];function Yt(e,n=t){let r;const o=new Set;function i(t){if(c(e,t)&&(e=t,r)){const t=!Qt.length;for(const t of o)t[1](),Qt.push(t,e);if(t){for(let t=0;t<Qt.length;t+=2)Qt[t][0](Qt[t+1]);Qt.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,c=t){const u=[s,c];return o.add(u),1===o.size&&(r=n(i)||t),s(e),()=>{o.delete(u),0===o.size&&(r(),r=null)}}}}function Zt(e){let n,r,o;return{c(){n=w("Score: "),r=$("span"),o=w(e[0])},m(t,e){x(t,n,e),x(t,r,e),g(r,o)},p(t,[e]){1&e&&C(o,t[0])},i:t,o:t,d(t){t&&v(n),t&&v(r)}}}function te(t,e,n){const r=function(t=0,e={countDelay:20}){const{subscribe:n,update:r}=Yt(t);let o=t;return{subscribe:n,newScore(t){if(t<o){const e=1500/(o-t);if(e<4)r((()=>t));else for(let n=o;n>t;n--)setTimeout((()=>r((t=>t-1))),n*e)}else for(let n=1;n<=t-o;n++)setTimeout((()=>r((t=>t+1))),n*e.countDelay);o=t}}}();let{current:o=0}=e,i=o;return r.subscribe((t=>n(0,i=t))),t.$$set=t=>{"current"in t&&n(1,o=t.current)},t.$$.update=()=>{2&t.$$.dirty&&r.newScore(o)},[i,o]}class ee extends ct{constructor(t){super(),st(this,t,te,Zt,c,{current:1})}}const ne=t=>({hovering:1&t}),re=t=>({hovering:t[0]});function oe(t){let e,r,o,s;const c=t[5].default,a=function(t,e,n,r){if(t){const o=u(t,e,n,r);return t[0](o)}}(c,t,t[4],re);let l=[t[3]],f={};for(let t=0;t<l.length;t+=1)f=n(f,l[t]);return{c(){e=$("div"),a&&a.c(),S(e,f)},m(n,i){x(n,e,i),a&&a.m(e,null),r=!0,o||(s=[_(e,"mouseenter",t[1]),_(e,"mouseleave",t[2])],o=!0)},p(t,[n]){a&&a.p&&(!r||17&n)&&function(t,e,n,r,o,i){if(o){const s=u(e,n,r,i);t.p(s,o)}}(a,c,t,t[4],r?function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(c,t[4],n,ne):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[4]),re),S(e,f=function(t,e){const n={},r={},o={$$scope:1};let i=t.length;for(;i--;){const s=t[i],c=e[i];if(c){for(const t in s)t in c||(r[t]=1);for(const t in c)o[t]||(n[t]=c[t],o[t]=1);t[i]=c}else for(const t in s)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}(l,[8&n&&t[3]]))},i(t){r||(K(a,t),r=!0)},o(t){Q(a,t),r=!1},d(t){t&&v(e),a&&a.d(t),o=!1,i(s)}}}function ie(t,e,r){const o=[];let i,s=a(e,o),{$$slots:c={},$$scope:u}=e;return t.$$set=t=>{e=n(n({},e),function(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}(t)),r(3,s=a(e,o)),"$$scope"in t&&r(4,u=t.$$scope)},[i,()=>{r(0,i=!0)},()=>{r(0,i=!1)},s,u,c]}class se extends ct{constructor(t){super(),st(this,t,ie,oe,c,{})}}const ce=[{delay:3e5,description:'"Need to make some coffee" speed'},{delay:700,description:"Dead snail on a slope"},{delay:540,description:"Snail"},{delay:400,description:"Sloth"},{delay:320,description:"Snail running from a bird"},{delay:230,description:"Turtle"},{delay:160,description:"Turtle on a skateboard"},{delay:80,description:"Regular speed"},{delay:50,description:"Fast"},{delay:30,description:"Cheetah"},{delay:20,description:"Cheetah driving a Porsche"},{delay:10,description:"M-497 Black Beetle"},{delay:4,description:"Warp 11"}];function ue(){return ce.findIndex((t=>80===t.delay))}function ae(t){let e,n,r,o,s,c,u,a,l=ce[t[0]].description+"";return{c(){e=$("span"),n=w(l),r=b(),o=$("div"),s=$("input"),j(s,"class",c="w-56 mx-2 "+(t[3]?"opacity-100":"opacity-0")+" transition duration-500 ease-in-out"),j(s,"type","range"),j(s,"min","0"),j(s,"max",ce.length-1),j(s,"step","1"),j(o,"class","mt-1")},m(i,c){x(i,e,c),g(e,n),x(i,r,c),x(i,o,c),g(o,s),O(s,t[0]),u||(a=[_(s,"change",t[2]),_(s,"input",t[2])],u=!0)},p(t,e){1&e&&l!==(l=ce[t[0]].description+"")&&C(n,l),8&e&&c!==(c="w-56 mx-2 "+(t[3]?"opacity-100":"opacity-0")+" transition duration-500 ease-in-out")&&j(s,"class",c),1&e&&O(s,t[0])},d(t){t&&v(e),t&&v(r),t&&v(o),u=!1,i(a)}}}function le(t){let e,n;return e=new se({props:{class:"mt-3 flex flex-col items-center justify-start h-12",$$slots:{default:[ae,({hovering:t})=>({3:t}),({hovering:t})=>t?8:0]},$$scope:{ctx:t}}}),{c(){nt(e.$$.fragment)},m(t,r){rt(e,t,r),n=!0},p(t,[n]){const r={};25&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(K(e.$$.fragment,t),n=!0)},o(t){Q(e.$$.fragment,t),n=!1},d(t){ot(e,t)}}}function fe(t,e,n){let r=ue(),{delay:o=ce[r].delay}=e;return t.$$set=t=>{"delay"in t&&n(1,o=t.delay)},t.$$.update=()=>{1&t.$$.dirty&&n(1,o=ce[r].delay)},[r,o,function(){var t;t=this.value,r=""===t?null:+t,n(0,r)}]}class de extends ct{constructor(t){super(),st(this,t,fe,le,c,{delay:1})}}function pe(t){return t.direction}function he(t,e=Math.floor(1e7*Math.random())){var n;const r=function(t){return t.field}(t),o=function(t){return t.snakeSize}(t),i=function(t,e){const n=function(t,e){let n;return t.forEach(((t,r)=>{t.forEach(((t,o)=>e(t)?n={row:r,column:o}:null))})),n}(t,(t=>"snake"===(null==t?void 0:t.type)&&"head"===t.bodyPart));let r=n.column;"left"===e?r=n.column-1<0?31:n.column-1:"right"===e&&(r=n.column+1===Tt?0:n.column+1);let o=n.row;"up"===e?o=n.row-1<0?16:n.row-1:"down"===e&&(o=n.row+1===qt?0:n.row+1);return{row:o,column:r}}(r,pe(t));if("snake"===(null===(n=r[i.row][i.column])||void 0===n?void 0:n.type)&&"tail"!=r[i.row][i.column].bodyPart)return Object.assign(Object.assign({},t),{gameOver:!0});let s=!1;const c=r.map(((e,n)=>e.map(((e,r)=>"snake"===(null==e?void 0:e.type)&&"tail"===e.bodyPart?i.row===n&&i.column===r?Object.assign(Object.assign({},Dt()),{id:e.id}):t.foodConsumed?e:Object.assign(Object.assign({},Rt()),{id:e.id}):"snake"===(null==e?void 0:e.type)&&"head"===e.bodyPart?Object.assign(Object.assign({},Mt({index:0})),{id:e.id}):"snake"===(null==e?void 0:e.type)&&"trunk"===e.bodyPart?e.index!==o-3||t.foodConsumed?Object.assign(Object.assign({},Mt({index:e.index+1})),{id:e.id}):Object.assign(Object.assign({},Pt()),{id:e.id}):"empty"!==e.type&&"food"!==e.type||r!==i.column||n!==i.row?e:(e&&(s="food"===e.type),Object.assign(Object.assign({},Dt()),{id:e.id}))))));if(t.foodConsumed){const t=Lt(e,c);c[t.x][t.y]=Object.assign(Object.assign({},Nt()),{id:c[t.x][t.y].id})}return Object.assign(Object.assign({},t),{foodConsumed:s,field:c,snakeSize:t.foodConsumed?t.snakeSize+1:t.snakeSize,score:s?t.score+5:t.score})}function ge(t=Math.floor(1e7*Math.random())){const e=function(t,e){return new Array(e).fill(null).map((()=>new Array(t).fill(null).map((()=>Rt()))))}(Tt,qt);e[8][13]=Pt(),e[8][14]=Mt({index:3}),e[8][15]=Mt({index:2}),e[8][16]=Mt({index:1}),e[8][17]=Mt({index:0}),e[8][18]=Dt();const n=Lt(t,e);return e[n.x][n.y]=Nt(),{field:e,direction:"right",snakeSize:6,foodConsumed:!1,gameOver:!1,score:0}}const me=ce[ue()].delay,ye=()=>{};function xe({delay:t=me,logger:e=ye}){const{subscribe:n,update:r}=Yt(ge()),o=[];let i=t,s=!1;function c(t){return setInterval((()=>{e(`Calling setInterval handler (delay: ${t})`),function(t,e){e&&t((t=>function(t,e){const n=pe(t);return Object.assign(Object.assign({},t),{direction:(r=n,o=e,It.indexOf([r,o].sort().join(","))>=0?n:e)});var r,o}(t,e)))}(r,o.shift()),r((t=>{const e=he(t);return e.gameOver&&clearInterval(u),e}))}),t)}let u=c(t);function a(t){i=t,clearInterval(u),u=c(t)}return{subscribe:n,changeDirection(t){s||o.push(t)},changeDelayBetweenMoves:a,togglePause(){s?(a(i),s=!1):(s=!0,clearInterval(u))},destroy(){clearInterval(u)}}}function ve(t){const e=t-1;return e*e*e+1}function $e(t){return t*t}function we(t,{delay:e=0,duration:n=400,easing:r=ve,start:o=0,opacity:i=0}={}){const s=getComputedStyle(t),c=+s.opacity,u="none"===s.transform?"":s.transform,a=1-o,l=c*(1-i);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${u} scale(${1-a*e});\n\t\t\topacity: ${c-l*e}\n\t\t`}}function be(e){let n,r,o,i,c,u,a,l,f,d,p;return{c(){n=$("div"),r=$("h1"),r.textContent="Game over",o=b(),i=$("p"),c=w("Final score: "),u=w(e[1]),a=b(),l=$("button"),l.textContent="New game",j(r,"class","text-white my-5 text-3xl"),j(i,"class","text-svelte-red uppercase text-7xl m-16"),j(l,"class","relative border-none rounded-md w-44 h-14 bg-svelte-red text-white text-base font-bold uppercase px-2 py-4 hover:bg-svelte-red-dark"),j(n,"class","flex items-center justify-center flex-col opacity-90 bg-black fixed w-full h-full top-0 left-0 z-50")},m(t,f){x(t,n,f),g(n,r),g(n,o),g(n,i),g(i,c),g(i,u),g(n,a),g(n,l),d||(p=_(l,"click",(function(){s(e[2])&&e[2].apply(this,arguments)})),d=!0)},p(t,n){e=t,2&n&&C(u,e[1])},i(t){f||L((()=>{f=Z(n,we,{duration:1500,easing:$e,start:.3}),f.start()}))},o:t,d(t){t&&v(n),d=!1,p()}}}function ke(e){let n,r=e[0]&&be(e);return{c(){r&&r.c(),n=k()},m(t,e){r&&r.m(t,e),x(t,n,e)},p(t,[e]){t[0]?r?(r.p(t,e),1&e&&K(r,1)):(r=be(t),r.c(),K(r,1),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i(t){K(r)},o:t,d(t){r&&r.d(t),t&&v(n)}}}function _e(t,e,n){let{gameOver:r}=e,{finalScore:o}=e,{onNewGameClick:i}=e;return t.$$set=t=>{"gameOver"in t&&n(0,r=t.gameOver),"finalScore"in t&&n(1,o=t.finalScore),"onNewGameClick"in t&&n(2,i=t.onNewGameClick)},[r,o,i]}class je extends ct{constructor(t){super(),st(this,t,_e,ke,c,{gameOver:0,finalScore:1,onNewGameClick:2})}}const{window:Se}=tt;function Ce(t){let e,n,r,o,s,c,u,a,l,f,d,p,h,m,y,k,S,O,z,E,A=t[2]?"☀️":"🌙";function D(e){t[8](e)}u=new ee({props:{current:t[1].score}}),p=new Kt({props:{gameState:t[1]}});let M={};return void 0!==t[0]&&(M.delay=t[0]),m=new de({props:M}),T.push((()=>function(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}(m,"delay",D))),S=new je({props:{gameOver:t[1].gameOver,finalScore:t[1].score,onNewGameClick:t[5]}}),{c(){e=$("main"),n=$("h1"),n.textContent="Snake",r=b(),o=$("div"),s=$("div"),c=$("span"),nt(u.$$.fragment),a=b(),l=$("button"),f=w(A),d=b(),nt(p.$$.fragment),h=b(),nt(m.$$.fragment),k=b(),nt(S.$$.fragment),j(n,"class","uppercase text-7xl text-svelte-red font-thin my-12"),j(s,"class","flex justify-between text-3xl w-full"),j(o,"class","flex flex-col items-start"),j(e,"class","flex flex-col items-center text-center")},m(i,y){x(i,e,y),g(e,n),g(e,r),g(e,o),g(o,s),g(s,c),rt(u,c,null),g(s,a),g(s,l),g(l,f),g(o,d),rt(p,o,null),g(e,h),rt(m,e,null),g(e,k),rt(S,e,null),O=!0,z||(E=[_(Se,"keypress",t[4]),_(l,"click",t[7])],z=!0)},p(t,[e]){const n={};2&e&&(n.current=t[1].score),u.$set(n),(!O||4&e)&&A!==(A=t[2]?"☀️":"🌙")&&C(f,A);const r={};2&e&&(r.gameState=t[1]),p.$set(r);const o={};var i;!y&&1&e&&(y=!0,o.delay=t[0],i=()=>y=!1,I.push(i)),m.$set(o);const s={};2&e&&(s.gameOver=t[1].gameOver),2&e&&(s.finalScore=t[1].score),S.$set(s)},i(t){O||(K(u.$$.fragment,t),K(p.$$.fragment,t),K(m.$$.fragment,t),K(S.$$.fragment,t),O=!0)},o(t){Q(u.$$.fragment,t),Q(p.$$.fragment,t),Q(m.$$.fragment,t),Q(S.$$.fragment,t),O=!1},d(t){t&&v(e),ot(u),ot(p),ot(m),ot(S),z=!1,i(E)}}}function Oe(t,e,n){let r,o,i=xe({}),s=!1;function c(){s?window.document.documentElement.classList.add("dark"):window.document.documentElement.classList.remove("dark")}var u;u=c,N().$$.on_mount.push(u),function(t){N().$$.on_destroy.push(t)}(i.destroy);return t.$$.update=()=>{64&t.$$.dirty&&i.subscribe((t=>n(1,r=t))),65&t.$$.dirty&&i.changeDelayBetweenMoves(o)},[o,r,s,c,function(t){const e=t.key.toLowerCase();"w"===e?i.changeDirection("up"):"s"===e?i.changeDirection("down"):"d"===e?i.changeDirection("right"):"a"===e?i.changeDirection("left"):"p"===e&&i.togglePause()},function(){i.destroy(),n(6,i=xe({}))},i,()=>{n(2,s=!s),c()},function(t){o=t,n(0,o)}]}return new class extends ct{constructor(t){super(),st(this,t,Oe,Ce,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
